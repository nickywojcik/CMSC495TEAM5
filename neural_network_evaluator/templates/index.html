<!--- Extends the base html file --->
{% extends "base.html" %}

<!--- Content --->
{% block content %}
<style>
    #imagediv {display: flex; justify-content: center; padding: 30px;}
    #image {max-height:500px; width:auto; }
    #buttons {display: flex; justify-content: center; padding-left: 20px;}
    #button {margin: 0 20px;}
</style>

    <div id="imagediv">
        <img id = "image" src="{{image}}">
    </div>
    <div id="buttons">
        <form action="/" method="post" enctype="multipart/form-data">
            <input type="file" name="file" accept="image/*"/>
            <input type="submit" value="Upload" />
            <input type="submit" id="process-button" value="Process" formaction="{{ url_for('models.flask_resnet_152_analysis') }}"/>
            <input type="button" value="Clear Image" onclick=location.href="{{ url_for('clear_image') }}" />
        </form>
    </div>
    <script>
        function stringToBool(str) {
            return str.toLowerCase() === "true";
        }

        function validate_process_button() {
            var processButton = document.getElementById("process-button");
            var imageUploaded = stringToBool("{{ image_uploaded }}");
            processButton.disabled = !imageUploaded;
        }

        validate_process_button();
    </script>

{% endblock %}

